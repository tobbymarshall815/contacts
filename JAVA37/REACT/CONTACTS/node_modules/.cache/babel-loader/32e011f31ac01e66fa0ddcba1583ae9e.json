{"ast":null,"code":"var _jsxFileName = \"/Users/kurtcobain/JAVA37/REACT/SRC/src/components/add-component/add.js\";\nimport React from 'react';\nimport classes from './add.module.css';\nimport { withRouter } from 'react-router-dom';\nconst BASE_URL = 'https://contacts-telran.herokuapp.com';\n\nclass Add extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      fields: {\n        address: '',\n        description: '',\n        email: '',\n        id: '0',\n        lastName: '',\n        name: '',\n        phone: ''\n      },\n      token: ''\n    };\n\n    this.addContact = (token, contact) => {\n      let req = JSON.stringify(contact);\n      console.log(req);\n      return fetch(`${BASE_URL}/api/contact`, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8',\n          Authorization: token\n        },\n        body: req\n      }).then(response => {\n        if (response.ok) {\n          this.props.history.push('/contacts');\n          console.log('ADDED SUCCSESSFULLY');\n        } else {\n          throw new Error(response.status);\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('token')) {\n      this.props.history.push('./login');\n    } else {\n      this.setState({ ...this.state,\n        token: localStorage.getItem('token')\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.main,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.form,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.fields.name,\n      placeholder: \"Name\",\n      onChange: e => {\n        this.setState({ ...this.state,\n          fields: { ...this.state.fields,\n            name: e.target.value\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.fields.lastName,\n      placeholder: \"Last Name\",\n      onChange: e => {\n        this.setState({ ...this.state,\n          fields: { ...this.state.fields,\n            lastName: e.target.value\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.fields.phone,\n      placeholder: \"Phone\",\n      onChange: e => {\n        this.setState({ ...this.state,\n          fields: { ...this.state.fields,\n            phone: e.target.value\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.fields.email,\n      placeholder: \"email\",\n      onChange: e => {\n        this.setState({ ...this.state,\n          fields: { ...this.state.fields,\n            email: e.target.value\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.fields.address,\n      placeholder: \"Address\",\n      onChange: e => {\n        this.setState({ ...this.state,\n          fields: { ...this.state.fields,\n            address: e.target.value\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      value: this.state.fields.description,\n      placeholder: \"desc\",\n      onChange: e => {\n        this.setState({ ...this.state,\n          fields: { ...this.state.fields,\n            description: e.target.value\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        this.addContact(this.state.token, this.state.fields);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 100\n      }\n    }), \"Save\")));\n  }\n\n}\n\nexport default withRouter(Add);","map":{"version":3,"sources":["/Users/kurtcobain/JAVA37/REACT/SRC/src/components/add-component/add.js"],"names":["React","classes","withRouter","BASE_URL","Add","Component","state","fields","address","description","email","id","lastName","name","phone","token","addContact","contact","req","JSON","stringify","console","log","fetch","method","headers","Authorization","body","then","response","ok","props","history","push","Error","status","componentDidMount","localStorage","getItem","setState","render","main","form","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport classes from './add.module.css';\nimport {withRouter} from 'react-router-dom';\n\nconst BASE_URL = 'https://contacts-telran.herokuapp.com';\n\nclass Add extends React.Component{\n    state = {\n        fields:{\n            address: '',\n            description: '',\n            email: '',\n            id: '0',\n            lastName: '',\n            name: '',\n            phone: '',\n        },\n        token:''\n    }\n    componentDidMount(){\n        if(!localStorage.getItem('token')){\n            this.props.history.push('./login');\n        }else{\n            this.setState({...this.state, token:localStorage.getItem('token')});\n        }\n    }\n\n    addContact = (token, contact) => {\n        let req = JSON.stringify(contact);\n        console.log(req);\n        return fetch(`${BASE_URL}/api/contact`, {\n            method:\"POST\",\n            headers:{\n                'Content-Type':'application/json; charset=utf-8',\n                Authorization:token\n            },\n            body:req\n        }).then(response => {\n            if(response.ok){\n                this.props.history.push('/contacts');\n                console.log('ADDED SUCCSESSFULLY');\n            }else{\n                throw new Error(response.status);\n            }\n            \n        })\n    }\n\n\n    render(){\n        return(\n            <div className={classes.main}>\n                 <div className={classes.form}>\n                    <input value={this.state.fields.name} placeholder='Name' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, name:e.target.value}})}}/>\n                    <input value={this.state.fields.lastName} placeholder='Last Name' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, lastName:e.target.value}})}}/>\n                    <input value={this.state.fields.phone} placeholder='Phone' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, phone:e.target.value}})}}/>\n                    <input value={this.state.fields.email} placeholder='email' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, email:e.target.value}})}}/>\n                    <input value={this.state.fields.address} placeholder='Address' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, address:e.target.value}})}}/>\n                    <input value={this.state.fields.description} placeholder='desc' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, description:e.target.value}})}}/>\n                    <button onClick={() => {this.addContact(this.state.token, this.state.fields)}}><b></b>Save</button>\n                </div>\n            </div>\n                )\n    }\n}\n\nexport default withRouter(Add);"]},"metadata":{},"sourceType":"module"}