{"ast":null,"code":"import _objectSpread from\"/Users/sheygam/contactsapp-web/contacts/JAVA37/REACT/CONTACTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/sheygam/contactsapp-web/contacts/JAVA37/REACT/CONTACTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sheygam/contactsapp-web/contacts/JAVA37/REACT/CONTACTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sheygam/contactsapp-web/contacts/JAVA37/REACT/CONTACTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sheygam/contactsapp-web/contacts/JAVA37/REACT/CONTACTS/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import classes from'./add.module.css';import{withRouter}from'react-router-dom';var BASE_URL='https://contacts-telran.herokuapp.com';var Add=/*#__PURE__*/function(_React$Component){_inherits(Add,_React$Component);var _super=_createSuper(Add);function Add(){var _this;_classCallCheck(this,Add);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={fields:{address:'',description:'',email:'',id:'0',lastName:'',name:'',phone:''},token:''};_this.addContact=function(token,contact){var req=JSON.stringify(contact);return fetch(\"\".concat(BASE_URL,\"/api/contact\"),{method:\"POST\",headers:{'Content-Type':'application/json; charset=utf-8',Authorization:token},body:req}).then(function(response){if(response.ok){_this.props.history.push('/contacts');console.log('ADDED SUCCSESSFULLY');}else{console.log(\"ADD ERROR: \",response.status);}});};return _this;}_createClass(Add,[{key:\"componentDidMount\",value:function componentDidMount(){if(!localStorage.getItem('token')){this.props.history.push('./login');}else{this.setState(_objectSpread(_objectSpread({},this.state),{},{token:localStorage.getItem('token')}));}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:classes.main},/*#__PURE__*/React.createElement(\"div\",{className:classes.form},/*#__PURE__*/React.createElement(\"input\",{value:this.state.fields.name,placeholder:\"Name\",onChange:function onChange(e){_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{fields:_objectSpread(_objectSpread({},_this2.state.fields),{},{name:e.target.value})}));}}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.fields.lastName,placeholder:\"Last Name\",onChange:function onChange(e){_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{fields:_objectSpread(_objectSpread({},_this2.state.fields),{},{lastName:e.target.value})}));}}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.fields.phone,placeholder:\"Phone\",onChange:function onChange(e){_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{fields:_objectSpread(_objectSpread({},_this2.state.fields),{},{phone:e.target.value})}));}}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.fields.email,placeholder:\"email\",onChange:function onChange(e){_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{fields:_objectSpread(_objectSpread({},_this2.state.fields),{},{email:e.target.value})}));}}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.fields.address,placeholder:\"Address\",onChange:function onChange(e){_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{fields:_objectSpread(_objectSpread({},_this2.state.fields),{},{address:e.target.value})}));}}),/*#__PURE__*/React.createElement(\"input\",{value:this.state.fields.description,placeholder:\"description\",onChange:function onChange(e){_this2.setState(_objectSpread(_objectSpread({},_this2.state),{},{fields:_objectSpread(_objectSpread({},_this2.state.fields),{},{description:e.target.value})}));}}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this2.addContact(_this2.state.token,_this2.state.fields);}},/*#__PURE__*/React.createElement(\"b\",null,\"Save\"))));}}]);return Add;}(React.Component);export default withRouter(Add);","map":{"version":3,"sources":["/Users/sheygam/contactsapp-web/contacts/JAVA37/REACT/CONTACTS/src/components/add-component/add.js"],"names":["React","classes","withRouter","BASE_URL","Add","state","fields","address","description","email","id","lastName","name","phone","token","addContact","contact","req","JSON","stringify","fetch","method","headers","Authorization","body","then","response","ok","props","history","push","console","log","status","localStorage","getItem","setState","main","form","e","target","value","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport classes from './add.module.css';\nimport {withRouter} from 'react-router-dom';\n\nconst BASE_URL = 'https://contacts-telran.herokuapp.com';\n\nclass Add extends React.Component{\n    state = {\n        fields:{\n            address: '',\n            description: '',\n            email: '',\n            id: '0',\n            lastName: '',\n            name: '',\n            phone: '',\n        },\n        token:''\n    }\n    componentDidMount(){\n        if(!localStorage.getItem('token')){\n            this.props.history.push('./login');\n        }else{\n            this.setState({...this.state, token:localStorage.getItem('token')});\n        }\n    }\n\n    addContact = (token, contact) => {\n        let req = JSON.stringify(contact);\n\n        return fetch(`${BASE_URL}/api/contact`, {\n            method:\"POST\",\n            headers:{\n                'Content-Type':'application/json; charset=utf-8',\n                Authorization:token\n            },\n            body:req\n        }).then(response => {\n            if(response.ok){\n                this.props.history.push('/contacts');\n                console.log('ADDED SUCCSESSFULLY');\n            }else{\n                console.log(\"ADD ERROR: \", response.status);\n            }\n            \n        })\n    }\n\n\n    render(){\n        return(\n            <div className={classes.main}>\n                 <div className={classes.form}>\n                    <input value={this.state.fields.name} placeholder='Name' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, name:e.target.value}})}}/>\n                    <input value={this.state.fields.lastName} placeholder='Last Name' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, lastName:e.target.value}})}}/>\n                    <input value={this.state.fields.phone} placeholder='Phone' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, phone:e.target.value}})}}/>\n                    <input value={this.state.fields.email} placeholder='email' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, email:e.target.value}})}}/>\n                    <input value={this.state.fields.address} placeholder='Address' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, address:e.target.value}})}}/>\n                    <input value={this.state.fields.description} placeholder='description' onChange={(e) => {this.setState({...this.state, fields:{...this.state.fields, description:e.target.value}})}}/>\n                    <button onClick={() => {this.addContact(this.state.token, this.state.fields)}}><b>Save</b></button>\n                </div>\n            </div>\n                )\n    }\n}\n\nexport default withRouter(Add);"]},"metadata":{},"sourceType":"module"}